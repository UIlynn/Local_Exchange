<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>지역화폐 가맹점 현황</title>

    <!-- axios -->
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>

    <!-- bootstrap -->
    <script src="./static/jquery/jquery-3.4.1.slim.min.js"
        integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n"
        crossorigin="anonymous"></script>
    <script src="./static/popper/popper.min.js"
        integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
        crossorigin="anonymous"></script>
    <script src="./static/bootstrap/js/bootstrap.min.js"
        integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6"
        crossorigin="anonymous"></script>
    <link rel="stylesheet" href="./static/bootstrap/css/bootstrap.min.css"
        integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">

    <!-- kakao map -->
    <script type="text/javascript" src="//dapi.kakao.com/v2/maps/sdk.js?appkey=96f98198823e1b22e7b29bb2e9afc824&libraries=services"></script>

    <!-- custom -->
    <!-- style.css -->
    <link rel="stylesheet" href="./static/style.css" class="css">
</head>

<body>
    <section id="header" class="container-fluid text-center">
                <span>지역 화폐 가맹점 검색 사이트</span>  
    </section>

    <section id="top" class="container-fluid">
        <div class="row inner">
            <div class="col-sm-12 col-md-8 offset-md-2 input-group">
                <input type="text" class="form-control" placeholder="검색 장소 입력" aria-label="Username"
                    aria-describedby="basic-addon1" id="textSearch">

                <button class="btn btn-outline-secondary" type="button" id="btnSearch">
                    <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-search" fill="currentColor"
                        xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd"
                            d="M10.442 10.442a1 1 0 0 1 1.415 0l3.85 3.85a1 1 0 0 1-1.414 1.415l-3.85-3.85a1 1 0 0 1 0-1.415z" />
                        <path fill-rule="evenodd"
                            d="M6.5 12a5.5 5.5 0 1 0 0-11 5.5 5.5 0 0 0 0 11zM13 6.5a6.5 6.5 0 1 1-13 0 6.5 6.5 0 0 1 13 0z" />
                    </svg>
                </button>
            </div>
        </div>
    </section>

    <section id="map" class="container-fluid">
        <div class="row inner">
            <div id="mapContainer" class="col-md-12"></div>

            </div>
        </div>
    </section>

    <!-- 카테고리 선택 큰 화면 -->
    <section id="categorys" class="container-fluid">
        <div class="row inner">
            <button type="button" class="btn btn-outline-primary col-sm-2">식당</button>
            <button type="button" class="btn btn-outline-primary col-sm-2">카페</button>
            <button type="button" class="btn btn-outline-primary col-sm-2">마트</button>
            <button type="button" class="btn btn-outline-primary col-sm-2">병원</button>
            <button type="button" class="btn btn-outline-primary col-sm-2">의류</button>
            <button type="button" class="btn btn-outline-primary col-sm-2">미용</button>
        </div>
    </section>

    <!-- 카테고리 선택 작은 화면 -->
    <section id="categorys_sm" class="container-fluid">
        <div class="btn-group btn-block">
            <button type="button" class="btn btn-outline-primary btn-lg  dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
              카테고리 선택
            </button>
            <div class="dropdown-menu btn-block">
              <a class="dropdown-item" href="#">식당</a>
              <a class="dropdown-item" href="#">카페</a>
              <a class="dropdown-item" href="#">마트</a>
              <a class="dropdown-item" href="#">병원</a>
              <a class="dropdown-item" href="#">의류</a>
              <a class="dropdown-item" href="#">미용</a>
            </div>
          </div>
    </section>
      
</body>
    <script>
        // 주요 요소
        const btnSearch = document.querySelector('#btnSearch');
        const textSearch = document.querySelector('#textSearch');
        const mapContainer = document.querySelector('#mapContainer')
        const categorysBtn = document.querySelectorAll('#categorys button')
        const categorysDropdown = document.querySelectorAll('#categorys_sm .dropdown-item')

        // 초기 맵 설정
        mapOption = {
            center: new kakao.maps.LatLng(37.566826, 126.9786567), // 지도의 중심좌표
            level: 3 // 지도의 확대 레벨
        };  

        
        // kakao map을 생성합니다(그리기)
        let map = new kakao.maps.Map(mapContainer, mapOption); 


        // 카테고리 선택시 수행
        function selectCategory(event){
            // console.dir(event.target);
            console.log('>>>selectCategory : ', event.target.innerText);
        };

        // 카테고리 버튼들에게 이벤트 추가
        function addEventCategorys(){
            // categorys 이벤트 추가
            categorysBtn.forEach(element => {
               // console.log(element); 
               element.addEventListener('click',selectCategory);
            });

            // categorys_sm 에 이벤트 추가
            categorysDropdown.forEach(element =>{
                // console.log(element);
                element.addEventListener('click',selectCategory);
            });
        };


        // 지역 검색 함수
        function searchArea(){
            console.log(">>> searchArea : ", textSearch.value);
            
        };

        // 초기화 함수
        function init(){
            // 검색 버튼 이벤트 추가        
            btnSearch.addEventListener('click', searchArea);

            // 카테고리 버튼들에게 이벤트 추가
            addEventCategorys();
            
        };

        init();
    </script>
    
</html>